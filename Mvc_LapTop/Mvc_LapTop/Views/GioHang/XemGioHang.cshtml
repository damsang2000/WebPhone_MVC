@{
    ViewBag.Title = "XemGioHang";
    Layout = "~/Views/Shared/LAYOUT_MVC.cshtml";
}


@using Mvc_LapTop.Models;
@model List<GioHangMD>
@ViewBag.HangHoa
</br>
<div class="card border-dark" style="width: 820px ">
    <table class="table">
        <tr style="background-color: #c7ecee">
            <th style="width: 30px; font-size: 13px">Mã sản phẩm</th>
            <th style="width: 20px; font-size: 13px">Tên sản phẩm</th>
            <th style="width: 20px; font-size: 13px">Ảnh bìa</th>
            <th style="width: 20px; font-size: 13px">Số lượng</th>
            <th style="width: 20px; font-size: 13px">Đơn giá</th>
            <th style="width: 20px; font-size: 13px">Thành tiền</th>
            <th style="width: 20px; font-size: 13px"></th>
            <th style="width: 20px; font-size: 13px">@Html.ActionLink("Xóa tất cả", "XoaGioHang_All", "GioHang")</th>
            <th style="width: 40px; font-size: 20px">@Html.ActionLink("Đặt hàng", "DatHang", "GioHang")</th>
        </tr>
        @foreach (var item in Model)
        {
            <tr>
                <td style="width: 30px; font-size: 13px">@item.iMaHang</td>
                <td style="width: 20px; font-size: 13px">@item.sTenHang</td>
                <td style="width: 20px; font-size: 13px">
                    <img src="~/HinhAnh/@item.sAnhBia" width="50%" /></td>
                @using (Html.BeginForm("CapNhatGioHang", "GioHang", new { @ms = item.iMaHang }))
                {
                    <td style="width: 20px; font-size: 13px">
                        <input type="number" min="1" name="txtSoLuong" value="@item.iSoLuong" size="2"/></td>
                    <td style="width: 20px; font-size: 13px">@String.Format("{0:0;0}", item.dDonGia)</td>
                    <td style="width: 20px; font-size: 13px">@String.Format("{0:0,0}", item.dThanhTien)</td>
                    <td style="width: 20px; font-size: 13px"><a href="@Url.Action("XemChiTietSP", "SanPham", new { @ms = item.iMaHang })">Xem</a></td>
                    <td style="width: 20px; font-size: 13px">@Html.ActionLink("Xóa", "XoaGioHang", new { @ms = item.iMaHang })</td>
                    <td>
                        <input type="submit" value="update" class="btn btn-primary" /></td>
                }
            </tr>
        }
        <tr style="background-color: #95afc0">
            <td colspan="3" style="color: blue; font-weight: bold; text-align: right; width: 20px; font-size: 13px">Tổng cộng:</td>
            <td style="color: red; font-weight: bold; width: 20px; font-size: 13px">@ViewBag.TongSoLuong</td>
            <td></td>
            <td style="color: red; font-weight: bold; width: 20px; font-size: 13px">@String.Format("{0:0,0}", ViewBag.TongThanhTien) VNĐ</td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
    </table>
</div>
</br>
